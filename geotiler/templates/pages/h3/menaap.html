<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>H3 MENAAP — Crop Production & Drought Risk</title>

<!-- MapLibre GL JS -->
<link href="https://unpkg.com/maplibre-gl@^4.0.0/dist/maplibre-gl.css" rel="stylesheet" />
<script src="https://unpkg.com/maplibre-gl@^4.0.0/dist/maplibre-gl.js"></script>

<!-- deck.gl standalone -->
<script src="https://unpkg.com/deck.gl@^9.0.0/dist.min.js"></script>

<!-- h3-js for hex geometry conversion -->
<script src="https://unpkg.com/h3-js@^4.0.0/dist/h3-js.umd.js"></script>

<style>
/* ---- Reset ---- */
*, *::before, *::after { box-sizing: border-box; }
body { margin: 0; }

/* ---- Full-viewport dark layout ---- */
.h3-explorer {
    position: relative;
    height: 100vh;
    padding: 0;
    max-width: none;
    background: #0a0a14;
    color: #d0d0d0;
    overflow: hidden;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
}

#h3-map { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

/* ---- Controls ---- */
#h3-controls {
    position: absolute; top: 12px; left: 12px; z-index: 10;
    background: rgba(30, 32, 48, 0.92); backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.15);
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.5); border-radius: 10px;
    padding: 14px 18px; display: flex; gap: 14px; align-items: flex-end; flex-wrap: wrap;
    max-width: calc(100vw - 24px);
}
.h3-cg { display: flex; flex-direction: column; gap: 4px; }
.h3-cg label {
    font-size: 14px; text-transform: uppercase; letter-spacing: 0.8px;
    color: #aaa; font-weight: 600;
}
.h3-cg select {
    background: rgba(255,255,255,0.10); color: #fff;
    border: 1px solid rgba(255,255,255,0.20); border-radius: 6px;
    padding: 7px 30px 7px 10px; font-size: 13px; cursor: pointer;
    color-scheme: dark;
    appearance: none; -webkit-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%23aaa'/%3E%3C/svg%3E");
    background-repeat: no-repeat; background-position: right 8px center;
}
.h3-cg select option { background: #1a1a2e; color: #eee; }
.h3-cg select:hover { border-color: rgba(255,255,255,0.35); }
.h3-cg select:focus { outline: none; border-color: #64acbe; }

#h3-status {
    font-size: 11px; color: #a0a0a0; padding: 6px 0; min-width: 120px; text-align: right;
}

/* ---- Legend ---- */
#h3-legend {
    position: absolute; bottom: 32px; left: 12px; z-index: 10;
    background: rgba(30, 32, 48, 0.92); backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.15);
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.5); border-radius: 10px;
    padding: 14px 16px;
}
.h3-legend-title { font-size: 12px; font-weight: 600; margin-bottom: 8px; color: #b0b0b0; }
.h3-legend-body { display: flex; gap: 8px; align-items: flex-end; }
.h3-legend-ylabel {
    writing-mode: vertical-lr; transform: rotate(180deg);
    font-size: 11px; color: #a0a0a0; text-align: center; letter-spacing: 0.5px;
}
.h3-legend-grid-wrap { display: flex; flex-direction: column; align-items: center; }
.h3-legend-grid {
    display: grid; grid-template-columns: repeat(5, 24px); grid-template-rows: repeat(5, 24px);
    gap: 1px;
}
.h3-legend-cell { border-radius: 2px; }
.h3-legend-xlabel { font-size: 11px; color: #a0a0a0; margin-top: 4px; letter-spacing: 0.5px; }
.h3-legend-ticks { display: flex; justify-content: space-between; width: 100%; }
.h3-legend-ticks span { font-size: 10px; color: #888; }

/* ---- Stats ---- */
#h3-stats {
    position: absolute; bottom: 32px; right: 12px; z-index: 10;
    background: rgba(30, 32, 48, 0.92); backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.15);
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.5); border-radius: 10px;
    padding: 12px 16px; min-width: 180px;
}
.h3-stat-row { display: flex; justify-content: space-between; gap: 20px; margin-bottom: 4px; }
.h3-stat-label { font-size: 12px; color: #a0a0a0; text-transform: uppercase; letter-spacing: 0.5px; }
.h3-stat-value { font-size: 13px; font-weight: 600; font-variant-numeric: tabular-nums; }

/* ---- Tooltip ---- */
#h3-tooltip {
    display: none; position: absolute; z-index: 20; pointer-events: none;
    background: rgba(8, 8, 16, 0.92); backdrop-filter: blur(8px);
    border: 1px solid rgba(255,255,255,0.1); border-radius: 8px;
    padding: 10px 14px; font-size: 12px; line-height: 1.5;
    max-width: 260px; color: #d0d0d0;
}
#h3-tooltip strong { color: #fff; }
#h3-tooltip .val { color: #64acbe; font-weight: 600; }
#h3-tooltip .spei-val { font-weight: 600; }
.spei-wet { color: #64acbe; }
.spei-mod { color: #e4acac; }
.spei-dry { color: #c85a5a; }

/* ---- Loading ---- */
#h3-loading {
    position: absolute; inset: 0; z-index: 100;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    background: rgba(6, 6, 14, 0.95); transition: opacity 0.3s;
}
#h3-loading.hidden { opacity: 0; pointer-events: none; }
.h3-spinner {
    width: 36px; height: 36px; border: 3px solid rgba(255,255,255,0.1);
    border-top-color: #64acbe; border-radius: 50%;
    animation: h3spin 0.8s linear infinite; margin-bottom: 12px;
}
@keyframes h3spin { to { transform: rotate(360deg); } }
.h3-loading-text { font-size: 13px; color: #a0a0a0; }

.maplibregl-ctrl-attrib { font-size: 10px !important; }
</style>
</head>

<body class="h3-explorer">
<div id="h3-map"></div>

<div id="h3-controls">
    <div class="h3-cg">
        <label>Crop</label>
        <select id="sel-crop"></select>
    </div>
    <div class="h3-cg">
        <label>Technology</label>
        <select id="sel-tech">
            <option value="a">All</option>
            <option value="i">Irrigated</option>
            <option value="r">Rainfed</option>
        </select>
    </div>
    <div class="h3-cg">
        <label>Climate Scenario (2050)</label>
        <select id="sel-scenario">
            <option value="spei12_ssp370_median">SSP3-7.0 &mdash; Median</option>
            <option value="spei12_ssp370_p10">SSP3-7.0 &mdash; 10th Percentile (Driest)</option>
            <option value="spei12_ssp585_median" selected>SSP5-8.5 &mdash; Median</option>
            <option value="spei12_ssp585_p10">SSP5-8.5 &mdash; 10th Percentile (Driest)</option>
        </select>
    </div>
    <div class="h3-cg">
        <label>Palette</label>
        <select id="sel-palette"></select>
    </div>
    <div id="h3-status">Initializing...</div>
</div>

<div id="h3-legend"></div>

<div id="h3-stats">
    <div class="h3-stat-row">
        <span class="h3-stat-label">Hexagons</span>
        <span class="h3-stat-value" id="stat-count">-</span>
    </div>
    <div class="h3-stat-row">
        <span class="h3-stat-label">Harvested Area</span>
        <span class="h3-stat-value" id="stat-area">-</span>
    </div>
    <div class="h3-stat-row">
        <span class="h3-stat-label">Production</span>
        <span class="h3-stat-value" id="stat-prod">-</span>
    </div>
    <div class="h3-stat-row">
        <span class="h3-stat-label">Mean SPEI-12</span>
        <span class="h3-stat-value" id="stat-spei">-</span>
    </div>
</div>

<div id="h3-tooltip"></div>

<div id="h3-loading">
    <div class="h3-spinner"></div>
    <div class="h3-loading-text" id="h3-loading-text">Initializing...</div>
</div>
<script type="module">

// ============================================================
// Configuration
// ============================================================

const SERVER_SIDE = {{ 'true' if h3_server_side else 'false' }};

const CROPS = [
    {code:'bana',name:'Banana'},{code:'barl',name:'Barley'},{code:'bean',name:'Bean'},
    {code:'cass',name:'Cassava'},{code:'chic',name:'Chickpea'},{code:'citr',name:'Citrus'},
    {code:'cnut',name:'Coconut'},{code:'coco',name:'Cocoa'},{code:'coff',name:'Arabica Coffee'},
    {code:'cott',name:'Cotton'},{code:'cowp',name:'Cowpea'},{code:'grou',name:'Groundnut'},
    {code:'lent',name:'Lentil'},{code:'maiz',name:'Maize'},{code:'mill',name:'Millet (Small)'},
    {code:'ocer',name:'Other Cereals'},{code:'ofib',name:'Other Fibre'},{code:'oilp',name:'Oil Palm'},
    {code:'onio',name:'Onion'},{code:'ooil',name:'Other Oils'},{code:'opul',name:'Other Pulses'},
    {code:'orts',name:'Other Roots'},{code:'pige',name:'Pigeonpea'},{code:'plnt',name:'Plantain'},
    {code:'pmil',name:'Pearl Millet'},{code:'pota',name:'Potato'},{code:'rape',name:'Rapeseed'},
    {code:'rcof',name:'Robusta Coffee'},{code:'rest',name:'Rest of Crops'},{code:'rice',name:'Rice'},
    {code:'rubb',name:'Rubber'},{code:'sesa',name:'Sesame'},{code:'sorg',name:'Sorghum'},
    {code:'soyb',name:'Soybean'},{code:'sugb',name:'Sugar Beet'},{code:'sugc',name:'Sugarcane'},
    {code:'sunf',name:'Sunflower'},{code:'swpo',name:'Sweet Potato'},{code:'teas',name:'Tea'},
    {code:'temf',name:'Temperate Fruit'},{code:'toba',name:'Tobacco'},{code:'toma',name:'Tomato'},
    {code:'trof',name:'Tropical Fruit'},{code:'vege',name:'Vegetables'},{code:'whea',name:'Wheat'},
    {code:'yams',name:'Yams'},
];

const PALETTES = {
    fire: {
        name: 'Fire Alert',
        safe:    [[230,245,230], [155,220,175], [50,190,110],  [0,160,60],   [0,120,40]],
        drought: [[255,210,200], [255,145,120], [255,70,60],   [230,20,40],  [180,0,30]],
    },
    emergency: {
        name: 'Emergency Red',
        safe:    [[230,235,245], [170,198,225], [95,155,200],  [35,115,175], [0,75,145]],
        drought: [[250,210,200], [245,160,140], [235,100,85],  [220,50,40],  [180,20,20]],
    },
    stevens: {
        name: 'Classic (Stevens)',
        safe:    [[255,255,215], [250,225,135], [240,185,55], [200,145,15], [150,100,0]],
        drought: [[254,210,200], [252,154,120], [239,83,80], [203,24,29], [128,0,13]],
    },
    neon: {
        name: 'Neon Danger',
        safe:    [[235,245,250], [170,218,230], [80,190,210],  [15,155,185], [0,120,155]],
        drought: [[255,230,180], [255,190,100], [255,155,30],  [255,120,0],  [230,90,0]],
    },
    violet: {
        name: 'Violet Heat',
        safe:    [[230,245,230], [155,220,175], [60,195,120],  [0,165,65],   [0,125,40]],
        drought: [[240,200,230], [225,140,200], [210,80,175],  [195,30,155], [170,0,130]],
    },
    solar: {
        name: 'Solar Flare',
        safe:    [[235,240,248], [180,208,230], [110,172,210], [50,138,185], [10,100,158]],
        drought: [[255,225,195], [255,180,120], [255,130,55],  [245,85,25],  [220,55,0]],
    },
    stoplight: {
        name: 'Stoplight',
        safe:    [[230,245,230], [165,225,165], [80,200,100],  [20,170,50],  [0,130,20]],
        drought: [[255,235,195], [255,200,120], [255,155,50],  [240,90,30], [215,40,15]],
    },
};

let currentPalette = 'fire';

// SPEI range for continuous interpolation
const SPEI_WET = 0;     // fully safe color
const SPEI_DRY = -2.5;  // fully drought color

// ============================================================
// State
// ============================================================

let map = null;
let deckOverlay = null;
let currentData = [];
let queryInFlight = false;
let currentCropName = 'Wheat';
const queryCache = new Map();

// ============================================================
// Data Query (server-side DuckDB)
// ============================================================

async function queryData(crop, tech, scenario) {
    const cacheKey = `${crop}_${tech}_${scenario}`;

    const cached = queryCache.get(cacheKey);
    if (cached) return { data: cached, fromCache: true };

    const params = new URLSearchParams({crop, tech, scenario});
    const resp = await fetch(`/h3/query?${params}`);
    if (!resp.ok) {
        const err = await resp.json().catch(() => ({}));
        throw new Error(err.error || `Query failed (${resp.status})`);
    }
    const result = await resp.json();
    queryCache.set(cacheKey, result.data);
    return { data: result.data, fromCache: false };
}

// ============================================================
// Classification & Color
// ============================================================

function log10Breaks(values, nBins) {
    let minVal = Infinity, maxVal = -Infinity;
    for (const v of values) {
        if (v > 0) {
            if (v < minVal) minVal = v;
            if (v > maxVal) maxVal = v;
        }
    }
    if (minVal >= maxVal) return Array(nBins - 1).fill(maxVal);

    const logMin = Math.log10(minVal);
    const logMax = Math.log10(maxVal);
    const step = (logMax - logMin) / nBins;
    const breaks = [];
    for (let i = 1; i < nBins; i++) {
        breaks.push(Math.pow(10, logMin + step * i));
    }
    return breaks;
}

function classifyLog(val, breaks) {
    for (let i = 0; i < breaks.length; i++) {
        if (val <= breaks[i]) return i;
    }
    return breaks.length;
}

function speiToT(spei) {
    // Map SPEI to [0, 1]: 0 = wet/safe, 1 = dry/drought
    if (spei == null) return 0.5;
    if (spei >= SPEI_WET) return 0;
    if (spei <= SPEI_DRY) return 1;
    return (SPEI_WET - spei) / (SPEI_WET - SPEI_DRY);
}

function lerpColor(c1, c2, t) {
    return [
        Math.round(c1[0] + (c2[0] - c1[0]) * t),
        Math.round(c1[1] + (c2[1] - c1[1]) * t),
        Math.round(c1[2] + (c2[2] - c1[2]) * t),
    ];
}

function bivariateColor(prodBin, spei) {
    const pal = PALETTES[currentPalette];
    const t = speiToT(spei);
    const rgb = lerpColor(pal.safe[prodBin], pal.drought[prodBin], t);
    return [...rgb, 200];
}

// ============================================================
// Map Initialization
// ============================================================

function initMap() {
    map = new maplibregl.Map({
        container: 'h3-map',
        style: 'https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json',
        center: [30, 27],
        zoom: 3.5,
        maxZoom: 14,
        antialias: true,
    });

    map.addControl(new maplibregl.NavigationControl(), 'top-right');
    map.addControl(new maplibregl.ScaleControl({maxWidth: 150}), 'bottom-right');

    deckOverlay = new deck.MapboxOverlay({interleaved: false, layers: []});
    map.addControl(deckOverlay);
}

// ============================================================
// Hex Rendering
// ============================================================

function buildLayer(data) {
    if (!data.length) {
        deckOverlay.setProps({layers: []});
        return;
    }

    const prodValues = data.map(d => d.production).filter(v => v > 0);
    const breaks = log10Breaks(prodValues, 5);

    const processed = new Array(data.length);
    for (let i = 0; i < data.length; i++) {
        const d = data[i];
        const boundary = h3.cellToBoundary(d.h3_index);
        const polygon = boundary.map(([lat, lng]) => [lng, lat]);
        polygon.push(polygon[0]);

        const prodBin = classifyLog(d.production, breaks);

        processed[i] = {
            polygon, h3_index: d.h3_index,
            production: d.production, harv_area_ha: d.harv_area_ha, spei: d.spei,
            prodBin,
            color: bivariateColor(prodBin, d.spei),
        };
    }

    const layer = new deck.PolygonLayer({
        id: 'h3-layer',
        data: processed,
        getPolygon: d => d.polygon,
        getFillColor: d => d.color,
        getLineColor: [255, 255, 255, 20],
        getLineWidth: 1,
        lineWidthMinPixels: 0.3,
        lineWidthMaxPixels: 1,
        pickable: true,
        autoHighlight: true,
        highlightColor: [255, 255, 255, 60],
        onHover: onHover,
        parameters: {depthTest: false},
        transitions: {getFillColor: 400},
    });

    deckOverlay.setProps({layers: [layer]});
}

// ============================================================
// Tooltip
// ============================================================

const tooltip = document.getElementById('h3-tooltip');

function onHover({object, x, y}) {
    if (!object) {
        tooltip.style.display = 'none';
        return;
    }

    const speiClass = object.spei == null ? '' :
        object.spei > 0 ? 'spei-wet' : object.spei >= -1 ? 'spei-mod' : 'spei-dry';
    const speiLabel = object.spei == null ? 'N/A' : object.spei.toFixed(3);

    tooltip.innerHTML = `<strong>${currentCropName}</strong><br>
        Harvested: <span class="val">${formatHA(object.harv_area_ha)}</span><br>
        Production: <span class="val">${formatMT(object.production)}</span><br>
        SPEI-12: <span class="spei-val ${speiClass}">${speiLabel}</span>`;

    tooltip.style.display = 'block';
    tooltip.style.left = `${x + 14}px`;
    tooltip.style.top = `${y + 14}px`;
}

function formatMT(val) {
    if (val >= 1e6) return (val / 1e6).toFixed(1) + ' M MT';
    if (val >= 1e3) return (val / 1e3).toFixed(1) + ' K MT';
    return val.toFixed(0) + ' MT';
}

function formatHA(ha) {
    if (ha >= 1e6) return (ha / 1e6).toFixed(2) + ' M ha';
    if (ha >= 1e3) return (ha / 1e3).toFixed(1) + ' K ha';
    return ha.toFixed(0) + ' ha';
}

// ============================================================
// Stats Panel
// ============================================================

function updateStats(data) {
    let totalArea = 0, totalProd = 0, speiSum = 0, speiCount = 0;
    for (const d of data) {
        totalArea += d.harv_area_ha;
        totalProd += d.production;
        if (d.spei != null) { speiSum += d.spei; speiCount++; }
    }

    document.getElementById('stat-count').textContent = data.length.toLocaleString();
    document.getElementById('stat-area').textContent = formatHA(totalArea);
    document.getElementById('stat-prod').textContent = formatMT(totalProd);

    const meanSpei = speiCount > 0 ? (speiSum / speiCount) : null;
    const speiEl = document.getElementById('stat-spei');
    if (meanSpei != null) {
        speiEl.textContent = meanSpei.toFixed(2);
        speiEl.className = 'h3-stat-value' + (meanSpei < -1 ? ' spei-dry' : meanSpei < 0 ? ' spei-mod' : ' spei-wet');
    } else {
        speiEl.textContent = '-';
        speiEl.className = 'h3-stat-value';
    }
}

// ============================================================
// Legend — 5x5 Bivariate Grid
// ============================================================

function buildLegend() {
    const container = document.getElementById('h3-legend');
    const pal = PALETTES[currentPalette];

    container.innerHTML = `
        <div class="h3-legend-title">Production &times; Drought Risk (${pal.name})</div>
        <div class="h3-legend-body">
            <div class="h3-legend-ylabel">Drought risk &rarr;</div>
            <div class="h3-legend-grid-wrap">
                <div class="h3-legend-grid" id="h3-legend-grid"></div>
                <div class="h3-legend-ticks"><span>Low</span><span>Production &rarr;</span><span>High</span></div>
            </div>
        </div>`;

    const grid = document.getElementById('h3-legend-grid');
    // 5 rows (top = driest) x 5 cols (left = low prod)
    for (let row = 4; row >= 0; row--) {
        const t = row / 4; // 0 = wet, 1 = dry
        for (let col = 0; col < 5; col++) {
            const rgb = lerpColor(pal.safe[col], pal.drought[col], t);
            const cell = document.createElement('div');
            cell.className = 'h3-legend-cell';
            cell.style.background = `rgb(${rgb[0]},${rgb[1]},${rgb[2]})`;

            const speiVal = (SPEI_WET + t * (SPEI_DRY - SPEI_WET)).toFixed(1);
            const prodLabels = ['Very Low', 'Low', 'Medium', 'High', 'Very High'];
            cell.title = `${prodLabels[col]} production, SPEI ≈ ${speiVal}`;
            grid.appendChild(cell);
        }
    }
}

// ============================================================
// UI Controls
// ============================================================

function populateControls() {
    // Crop dropdown
    const selCrop = document.getElementById('sel-crop');
    for (const c of CROPS) {
        const opt = document.createElement('option');
        opt.value = c.code;
        opt.textContent = c.name;
        if (c.code === 'whea') opt.selected = true;
        selCrop.appendChild(opt);
    }

    // Palette dropdown
    const selPalette = document.getElementById('sel-palette');
    for (const [key, pal] of Object.entries(PALETTES)) {
        const opt = document.createElement('option');
        opt.value = key;
        opt.textContent = pal.name;
        if (key === currentPalette) opt.selected = true;
        selPalette.appendChild(opt);
    }
    selPalette.addEventListener('change', (e) => {
        currentPalette = e.target.value;
        buildLegend();
        if (currentData.length) buildLayer(currentData);
    });

    // Crop/tech/scenario — debounced refresh (new query)
    let debounceTimer = null;
    function debouncedRefresh() {
        setStatus('Loading...');
        clearTimeout(debounceTimer);
        debounceTimer = setTimeout(refresh, 300);
    }
    document.getElementById('sel-crop').addEventListener('change', debouncedRefresh);
    document.getElementById('sel-tech').addEventListener('change', debouncedRefresh);
    document.getElementById('sel-scenario').addEventListener('change', debouncedRefresh);
}

// ============================================================
// Refresh Cycle
// ============================================================

async function refresh() {
    if (queryInFlight) return;
    queryInFlight = true;

    const crop = document.getElementById('sel-crop').value;
    const tech = document.getElementById('sel-tech').value;
    const scenario = document.getElementById('sel-scenario').value;
    currentCropName = CROPS.find(c => c.code === crop)?.name || crop;

    setStatus('Querying...');

    try {
        const t0 = performance.now();
        const { data, fromCache } = await queryData(crop, tech, scenario);
        currentData = data;
        const tQuery = performance.now() - t0;

        const t1 = performance.now();
        buildLayer(currentData);
        const tRender = performance.now() - t1;

        updateStats(currentData);
        if (fromCache) {
            setStatus(`${currentData.length.toLocaleString()} hexagons (cached, ${(tRender/1000).toFixed(1)}s render)`);
        } else {
            setStatus(`${currentData.length.toLocaleString()} hexagons (${(tQuery/1000).toFixed(1)}s query, ${(tRender/1000).toFixed(1)}s render)`);
        }
    } catch (e) {
        console.error('Query error:', e);
        setStatus('Query failed — see console');
    } finally {
        queryInFlight = false;
    }
}

// ============================================================
// Helpers
// ============================================================

function setLoading(msg) {
    document.getElementById('h3-loading-text').textContent = msg;
    document.getElementById('h3-loading').classList.remove('hidden');
}
function hideLoading() { document.getElementById('h3-loading').classList.add('hidden'); }
function setStatus(msg) { document.getElementById('h3-status').textContent = msg; }

// ============================================================
// Main
// ============================================================

(async function main() {
    if (!SERVER_SIDE) {
        setLoading('MENAAP Explorer requires server-side DuckDB (ENABLE_H3_DUCKDB=true).');
        return;
    }
    try {
        setLoading('Initializing map...');
        initMap();
        buildLegend();
        populateControls();
        hideLoading();

        if (map.isStyleLoaded()) {
            await refresh();
        } else {
            map.on('load', () => refresh());
        }
    } catch (e) {
        console.error('Initialization failed:', e);
    }
})();

</script>
</body>
</html>
