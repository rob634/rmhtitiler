# Local Development Environment Variables for SAS Token Testing
# Copy this file to .env.local and fill in your values

# ===== MODE CONFIGURATION =====
# Set to true for local development
LOCAL_MODE=true

# Set to true to enable Azure Storage authentication
USE_AZURE_AUTH=false

# Set to true to use SAS tokens (recommended - tests production workflow)
# Set to false to use account key directly (not recommended)
USE_SAS_TOKEN=true

# ===== AZURE STORAGE =====
# Your Azure Storage account name (required if USE_AZURE_AUTH=true)
# AZURE_STORAGE_ACCOUNT=yourstorageaccountname

# Your Azure Storage account key (required for local SAS token testing)
# This is used to GENERATE SAS tokens, not for direct access
# In production, Managed Identity replaces this for token generation
# AZURE_STORAGE_KEY=your_storage_key_here

# ===== AZURE AUTHENTICATION (OPTIONAL) =====
# If you don't want to use storage key, you can provide explicit credentials
# This is useful for CI/CD or when you can't use interactive auth

# Service Principal credentials (alternative to storage key)
# AZURE_CLIENT_ID=your_client_id
# AZURE_CLIENT_SECRET=your_client_secret
# AZURE_TENANT_ID=your_tenant_id

# ===== GDAL CONFIGURATION =====
# Performance tuning for GDAL
CPL_VSIL_CURL_CACHE_SIZE=128000000
GDAL_CACHEMAX=512
GDAL_HTTP_MULTIPLEX=YES
GDAL_DISABLE_READDIR_ON_OPEN=EMPTY_DIR

# ===== SERVER CONFIGURATION =====
HOST=0.0.0.0
PORT=8000

# ===== EXAMPLE CONFIGURATIONS =====

# Configuration 1: Pure local development (no Azure)
# LOCAL_MODE=true
# USE_AZURE_AUTH=false

# Configuration 2: Test SAS token workflow with storage key
# LOCAL_MODE=true
# USE_AZURE_AUTH=true
# USE_SAS_TOKEN=true
# AZURE_STORAGE_ACCOUNT=mystorageaccount
# AZURE_STORAGE_KEY=your_key_here

# Configuration 3: Test with direct account key (not recommended)
# LOCAL_MODE=true
# USE_AZURE_AUTH=true
# USE_SAS_TOKEN=false
# AZURE_STORAGE_ACCOUNT=mystorageaccount
# AZURE_STORAGE_KEY=your_key_here

# ===== HOW IT WORKS =====
#
# Development (USE_SAS_TOKEN=true):
#   Storage Key -> Generate SAS Token -> GDAL uses SAS Token
#   ✅ Tests the full SAS workflow
#   ✅ No key in environment variables for GDAL
#   ✅ Same code path as production
#
# Production (USE_SAS_TOKEN=true):
#   Managed Identity -> Generate SAS Token -> GDAL uses SAS Token
#   ✅ No keys stored anywhere
#   ✅ Uses Azure AD for authentication
#   ✅ Tokens auto-refresh every hour
